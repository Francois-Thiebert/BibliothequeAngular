<h1>Emprunter</h1>
<hr>

<p>moteur de recherche</p>
<form (ngSubmit)="recherche()" [formGroup]="form">
  <div class="form-group">
    <label for="titre">titre : </label>
    <input id="titre" class="form-control" formControlName="titre"/>
  </div>
  <div class="form-group">
    <label for="auteur">Auteur : </label>
    <input id="auteur" class="form-control" formControlName="auteur"/>
  </div>



  <div class="form-group">
    <label for="statut">Disponibilité : </label>
    <select id="statut" class="form-control" formControlName="statut">
      <option value="DISPONIBLE">DISPONIBLE</option>
      <option value="INDISPONIBLE">INDISPONIBLE</option>
      <option value="EMPRUNTE">EMPRUNTÉ</option>
    </select>
  </div>

  <!-- ajouter les étiquettes -->
  <label for="statut">Etiquettes : </label>
  <label  *ngFor="let e of etiquettesEnBase">
    <span> </span>
    <span (click)="ajout(e)" class="btn btn-primary"
    [ngClass]="{select: etiquettesSelect.includes(e)}">{{e.nom}}</span>
    <span> </span>
  </label>



  <div>
    <button type="submit" class="btn btn-outline-primary">Lancer la recherche</button>
  </div>

</form>

<table class ="table">
  <thead>
    <tr>
      <th>Titre</th>
      <th>Auteur</th>
      <th>Genre</th>
      <th>Disponibilité</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let l of livres">
      <td>{{ l.titre }}</td>
      <td>{{ l.auteur }}</td>
      <td>{{ l.etiquettes }}</td>
      <td>{{ l.statut }}</td>
      <td>
        <button *ngIf="l.statut === 'DISPONIBLE'" class="btn btn-success" (click)="emprunter(l)">
          Emprunter
        </button>
        <!-- <button *ngIf="l.statut === 'EMPRUNTE'" class="btn btn-warning" (click)="emprunter(l)">
          Réserver
        </button> -->
      </td>
    </tr>
  </tbody>

</table>


